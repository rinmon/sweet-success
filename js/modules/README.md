# モジュール説明

## 注文システムモジュール

Sweet Successゲームの注文システムは、より保守性の高いコードのために以下のモジュールに分割されています。

### orders-core.js
注文システムの中核機能を提供します。
- 注文の生成・管理・処理
- 注文の有効期限チェック
- 統計データの記録
- 難易度調整ロジック
- データの永続化（保存・読み込み）

### orders-inventory.js
注文と在庫システム間の連携を担当します。
- 注文に必要なクッキーの在庫確認
- 在庫変更時の注文ボタン状態の更新
- クッキー消費処理

### orders-ui.js
注文システムのUI関連機能を提供します。
- 注文リストのレンダリング
- 注文完了・キャンセルボタンの管理
- 有効期限表示の更新
- クリック処理のイベントリスナー
- 注文完了時のアニメーション

### orders-events.js
モジュール間の連携とイベント処理を実装します。
- 注文作成時のイベント
- 注文完了時のイベント
- 注文拒否時のイベント
- 注文期限切れ時のイベント
- 注文リスト変更時のイベント

### orders-enhancer.js
既存の注文システムを損なわずに機能拡張を提供します。
- インベントリ変更の監視と注文ボタン自動更新
- ステータスメッセージでの注文タブリンク機能
- ボタンの視覚的フィードバック強化

## データ保存の標準化

ゲーム全体でデータ保存処理を標準化しました。全てのデータ変更時には、以下の手順で保存を実行します：

1. データの変更を行う
2. UI更新を実行する
3. `saveGame()` 関数を呼び出してデータを永続化する

これにより、ブラウザをリロードしてもゲームの状態が正しく保持されます。

## 拡張性と今後の開発

このモジュール構造により、新機能を既存のシステムに影響を与えることなく追加できます。例えば：

- 新しい注文タイプの追加
- 特別イベントの実装
- UI表示の変更
- 統計分析の拡張

今後の機能追加や修正も、このモジュール指向のアプローチを継続することで効率的に行えます。
